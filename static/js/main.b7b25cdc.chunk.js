(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,function(e,t,r){e.exports=r(17)},,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(2),i=r.n(c);r(12),r(13);const l={currentLight:"green",pedestrianRequested:!1,emergencyOverride:!1,timer:10},s="CHANGE_LIGHT",d="REQUEST_CROSSING",u="EMERGENCY_OVERRIDE",o="RESET_TIMER",m="UPDATE_TIMER";function E(e,t){switch(t.type){case s:return{...e,currentLight:t.payload,timer:t.timer};case d:return{...e,pedestrianRequested:!0};case u:return{...e,emergencyOverride:t.emergencyOverride,currentLight:t.payload};case o:return{...e,pedestrianRequested:!1,emergencyOverride:!1};case m:return{...e,timer:t.payload};default:return e}}const g=Object(n.createContext)(),y=e=>{let{children:t}=e;const[r,c]=Object(n.useReducer)(E,l);return Object(n.useEffect)(()=>{let e;return r.pedestrianRequested||r.emergencyOverride?r.pedestrianRequested&&!r.emergencyOverride&&(e=setInterval(()=>{r.timer>1?c({type:m,payload:r.timer-1}):1===r.timer&&"red"!==r.currentLight?c({type:s,payload:"red",timer:12}):1===r.timer&&"red"===r.currentLight&&c({type:o})},1e3)):e=setInterval(()=>{r.timer>1?c({type:m,payload:r.timer-1}):function(e,t){switch(t){case"green":e({type:s,payload:"yellow",timer:3});break;case"yellow":e({type:s,payload:"red",timer:7});break;case"red":e({type:s,payload:"green",timer:10})}}(c,r.currentLight)},1e3),()=>clearTimeout(e)},[r]),a.a.createElement(g.Provider,{value:{state:r,dispatch:c}},t)};r(14);var p=()=>{const{state:e}=Object(n.useContext)(g);return a.a.createElement("div",{className:"traffic-light"},a.a.createElement("div",{className:`light ${"red"===e.currentLight?"red":""}`}),a.a.createElement("div",{className:`light ${"yellow"===e.currentLight?"yellow":""}`}),a.a.createElement("div",{className:`light ${"green"===e.currentLight?"green":""}`}),a.a.createElement("div",{className:"countdown"},e.timer,"s"))};r(15);var v=()=>{const{dispatch:e}=Object(n.useContext)(g);return a.a.createElement("button",{onClick:()=>{e({type:"REQUEST_CROSSING"})},className:"pedestrian-button"},"Pedestrian Crossing")};r(16);var h=()=>{const{state:e,dispatch:t}=Object(n.useContext)(g);return a.a.createElement("button",{onClick:()=>{e.emergencyOverride?t({type:"EMERGENCY_OVERRIDE",payload:"green",emergencyOverride:!1}):t({type:"EMERGENCY_OVERRIDE",payload:"green",emergencyOverride:!0})},className:"emergency-button"},e.emergencyOverride?"Emergency Override Off":"Emergency Override On")};var O=function(){return a.a.createElement(y,null,a.a.createElement("div",{className:"wrapper"},a.a.createElement("h1",{className:"traffic-light-title"},"Traffic Light Simulator"),a.a.createElement(p,null),a.a.createElement("div",{className:"button-container"},a.a.createElement(v,null),a.a.createElement(h,null))))};var R=e=>{e&&e instanceof Function&&r.e(3).then(r.bind(null,18)).then(t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:c,getTTFB:i}=t;r(e),n(e),a(e),c(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(O,null))),R()}],[[3,1,2]]]);
//# sourceMappingURL=main.b7b25cdc.chunk.js.map